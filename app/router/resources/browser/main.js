import{a as U,b as $,c as V,d as I,e as B,f as q,g as F,h as H}from"./chunk-KB2UFWKF.js";import{a as Y}from"./chunk-CILGEZY2.js";import{a as _}from"./chunk-GRZBLGNA.js";import{a as N,b as G}from"./chunk-NOY3PL3R.js";import{Aa as r,B as b,Ba as C,Oa as m,P as S,Pb as D,Qa as s,Qb as R,Ta as i,Tb as T,U as f,Ua as o,Va as h,Wa as E,Xa as j,Ya as A,Za as v,_ as L,_a as x,cb as c,db as d,ha as M,ia as O,ja as y,ka as P,lb as z,nb as l,ob as g,q as w,xa as k}from"./chunk-AMPHMTWR.js";var Z=(()=>{class e{constructor(t,n){this.authService=t,this.router=n}canActivate(){return this.authService.isAuthenticated$.pipe(b(1),w(t=>!t||!this.authService.canCreateOrders()?(this.router.navigate(["/unauthorized"]),!1):!0))}static{this.\u0275fac=function(n){return new(n||e)(f(_),f(I))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),J=(()=>{class e{constructor(t,n){this.authService=t,this.router=n}canActivate(){return this.authService.isAuthenticated$.pipe(b(1),w(t=>!t||!this.authService.canViewOrders()?(this.router.navigate(["/unauthorized"]),!1):!0))}static{this.\u0275fac=function(n){return new(n||e)(f(_),f(I))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var K=[{path:"",redirectTo:"/new-order",pathMatch:"full"},{path:"new-order",loadComponent:()=>import("./chunk-ADIHRVYJ.js").then(e=>e.NewOrderComponent),canActivate:[Z]},{path:"orders",loadComponent:()=>import("./chunk-JQZW3ZHR.js").then(e=>e.OrdersComponent),canActivate:[J]},{path:"unauthorized",loadComponent:()=>import("./chunk-HTA3YXE2.js").then(e=>e.UnauthorizedComponent)},{path:"settings",loadComponent:()=>import("./chunk-RZCKOA7S.js").then(e=>e.SettingsComponent)},{path:"**",redirectTo:"/new-order"}];var Q={providers:[F(K),$()]};function ie(e,p){if(e&1&&(i(0,"div",26),h(1,"img",27),o()),e&2){let t=p.ngIf;r(),s("src",t,k)}}function re(e,p){if(e&1&&h(0,"img",35),e&2){let t=x().ngIf;s("src",t.userAvatar,k)}}function oe(e,p){if(e&1){let t=A();i(0,"img",36),v("error",function(a){M(t);let u=x(3);return O(u.onImageError(a))}),o()}}function ae(e,p){if(e&1&&(E(0),m(1,re,1,1,"img",33)(2,oe,1,0,"img",34),j()),e&2){let t=p.ngIf;r(),s("ngIf",t.userAvatar),r(),s("ngIf",!t.userAvatar)}}function se(e,p){if(e&1){let t=A();i(0,"div",28)(1,"span",29),c(2),o(),i(3,"div",30),v("click",function(){M(t);let a=x();return O(a.logout())}),m(4,ae,3,2,"ng-container",31),l(5,"async"),i(6,"div",32),c(7),o()()()}if(e&2){let t=p.ngIf,n=x();r(2),d(t.name),r(),s("title",t.email),r(),s("ngIf",g(5,4,n.settings$)),r(3),d(n.getUserInitials(t))}}function ce(e,p){e&1&&(i(0,"div",37)(1,"div",38),c(2,"?"),o()())}var W=(()=>{class e{constructor(t,n,a){this.localizationService=t,this.authService=n,this.settingsService=a,this.title="order-app",this.currentLanguage$=this.localizationService.currentLanguage$,this.user$=this.authService.user$,this.isAuthenticated$=this.authService.isAuthenticated$,this.settings$=this.settingsService.settings$}switchLanguage(t){this.localizationService.setLanguage(t)}toggleLanguage(){let n=this.getCurrentLanguage()==="en"?"de":"en";this.switchLanguage(n)}getCurrentLanguage(){return this.localizationService.getCurrentLanguage()}logout(){this.authService.logout()}getUserInitials(t){if(!t||!t.name)return"U";let n=t.name.split(" ");return n.length>=2?(n[0][0]+n[1][0]).toUpperCase():t.name.substring(0,2).toUpperCase()}onImageError(t){let n=t.target;n&&n.nextElementSibling&&(n.style.display="none",n.nextElementSibling.style.display="flex")}static{this.\u0275fac=function(n){return new(n||e)(C(N),C(_),C(Y))}}static{this.\u0275cmp=L({type:e,selectors:[["app-root"]],standalone:!0,features:[z],decls:38,vars:21,consts:[[1,"app-container"],["class","custom-banner",4,"ngIf"],[1,"app-header"],[1,"header-content"],["routerLink","/new-order",1,"logo-section"],[1,"logo-icon"],["src","assets/icons/logo.png?v=4","alt","Order App Logo",1,"app-logo-image",2,"width","80px !important","height","80px !important","object-fit","contain !important","min-width","80px !important","min-height","80px !important","max-width","80px !important","max-height","80px !important",3,"error"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"display","none"],["cx","12","cy","12","r","10","stroke","#00b4d8","stroke-width","2"],["d","M8 12l2 2 4-4","stroke","#00b4d8","stroke-width","2","fill","none"],[1,"app-title"],[1,"main-nav"],["routerLink","/new-order","routerLinkActive","active",1,"nav-link"],["routerLink","/orders","routerLinkActive","active",1,"nav-link"],[1,"user-section"],["routerLink","/settings",1,"settings-btn",3,"title"],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z","stroke","currentColor","stroke-width","2"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z","stroke","currentColor","stroke-width","2"],[1,"language-selector"],[1,"lang-toggle-btn",3,"click","title"],[1,"flag-icon"],[1,"lang-text"],["class","user-info",4,"ngIf"],["class","user-avatar","title","Not logged in",4,"ngIf"],[1,"app-main"],[1,"custom-banner"],["alt","Custom Banner",1,"banner-image",3,"src"],[1,"user-info"],[1,"user-name"],[1,"user-avatar",3,"click","title"],[4,"ngIf"],[1,"avatar-placeholder",2,"display","none"],["alt","User Avatar","class","custom-avatar",3,"src",4,"ngIf"],["src","assets/icons/user-avatar.png","alt","User Avatar",3,"error",4,"ngIf"],["alt","User Avatar",1,"custom-avatar",3,"src"],["src","assets/icons/user-avatar.png","alt","User Avatar",3,"error"],["title","Not logged in",1,"user-avatar"],[1,"avatar-placeholder"]],template:function(n,a){if(n&1&&(i(0,"div",0),m(1,ie,2,1,"div",1),l(2,"async"),i(3,"header",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"img",6),v("error",function(X){return a.onImageError(X)}),o(),y(),i(8,"svg",7),h(9,"circle",8)(10,"path",9),o()(),P(),i(11,"span",10),c(12,"Order App"),o()(),i(13,"nav",11)(14,"a",12),c(15),l(16,"translate"),o(),i(17,"a",13),c(18),l(19,"translate"),o()(),i(20,"div",14)(21,"button",15),l(22,"translate"),y(),i(23,"svg",16),h(24,"path",17)(25,"path",18),o()(),P(),i(26,"div",19)(27,"button",20),v("click",function(){return a.toggleLanguage()}),i(28,"span",21),c(29),o(),i(30,"span",22),c(31),o()()(),m(32,se,8,6,"div",23),l(33,"async"),m(34,ce,3,0,"div",24),l(35,"async"),o()()(),i(36,"main",25),h(37,"router-outlet"),o()()),n&2){let u;r(),s("ngIf",(u=g(2,9,a.settings$))==null?null:u.banner),r(14),d(g(16,11,"header.newOrder")),r(3),d(g(19,13,"header.orders")),r(3),s("title",g(22,15,"header.settings")),r(6),s("title",a.getCurrentLanguage()==="en"?"Switch to Deutsch":"Switch to English"),r(2),d(a.getCurrentLanguage()==="en"?"\u{1F1FA}\u{1F1F8}":"\u{1F1E9}\u{1F1EA}"),r(2),d(a.getCurrentLanguage()==="en"?"EN":"DE"),r(),s("ngIf",g(33,17,a.user$)),r(2),s("ngIf",!g(35,19,a.user$))}},dependencies:[V,H,B,q,T,D,R,G],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f5f5f5}.custom-banner[_ngcontent-%COMP%]{width:100%;max-height:200px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f5f5f5,#e0e0e0)}.custom-banner[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:200px;object-fit:cover;object-position:center}.app-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;background-color:#fff;border-bottom:1px solid #e0e0e0;padding:0 24px;height:64px;display:flex;align-items:center;box-shadow:0 2px 4px #0000001a}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;max-width:1200px;margin:0 auto;padding:0 8px}.logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;min-width:200px;cursor:pointer;padding:4px 8px;border-radius:6px;transition:all .2s ease;margin:-4px}.logo-section[_ngcontent-%COMP%]:hover{background:#00b4d814;transform:translateY(-.5px)}.logo-section[_ngcontent-%COMP%]:active{transform:translateY(0);background:#00b4d81f}.logo-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:80px;height:80px}.logo-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .logo-icon[_ngcontent-%COMP%]   .app-logo-image[_ngcontent-%COMP%], .app-logo-image[_ngcontent-%COMP%]{width:80px!important;height:80px!important;object-fit:contain!important;max-width:80px!important;max-height:80px!important;min-width:80px!important;min-height:80px!important}.app-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333}.main-nav[_ngcontent-%COMP%]{display:flex;gap:32px}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#666;font-weight:500;padding:8px 16px;border-radius:4px;transition:all .2s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#00b4d8;background-color:#f0f9ff}.nav-link.active[_ngcontent-%COMP%]{color:#00b4d8;background-color:#e0f7ff}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.settings-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:8px;border-radius:4px;color:#666;transition:all .2s ease}.settings-btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#333}.language-selector[_ngcontent-%COMP%]{display:flex}.language-selector[_ngcontent-%COMP%]   .lang-toggle-btn[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e0e0e0;border-radius:6px;padding:6px 10px;font-size:12px;font-weight:500;color:#666;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:4px}.language-selector[_ngcontent-%COMP%]   .lang-toggle-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0;color:#333;border-color:#ccc}.language-selector[_ngcontent-%COMP%]   .lang-toggle-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.language-selector[_ngcontent-%COMP%]   .lang-toggle-btn[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:16px;line-height:1}.language-selector[_ngcontent-%COMP%]   .lang-toggle-btn[_ngcontent-%COMP%]   .lang-text[_ngcontent-%COMP%]{font-weight:600;min-width:20px;text-align:center}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;cursor:pointer;border:2px solid #e0e0e0;transition:border-color .2s ease}.user-avatar[_ngcontent-%COMP%]:hover{border-color:#00b4d8}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:#00b4d8;color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600}.app-main[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px}"]})}}return e})();U(W,Q).catch(e=>console.error(e));
